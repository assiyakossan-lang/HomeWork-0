package edu.narxoz.galactic.task;
import edu.narxoz.galactic.bodies.CelestialBody;
import edu.narxoz.galactic.cargo.Cargo;
import edu.narxoz.galactic.drones.Drone;
public class DeliveryTask {
    private CelestialBody origin;
    private CelestialBody description;
    private Cargo cargo;
    private TaskState state;
    private Drone assignedDrone;
    public DeliveryTask (CelestialBody origin, CelestialBody description, Cargo cargo){
        this.origin=origin;
        this.description=description;
        this.cargo=cargo;
        this.state=TaskState.CREATED;
        this.assignedDrone=null;
    }
    public CelestialBody getOrigin() {return origin; }
    public CelestialBody getDestination(){return description; }
    public Cargo getCargo() {return cargo; }
    public TaskState getStatus() {return state; }
    public Drone getAssignedDrone(){return assignedDrone; }
    void setState(TaskState state) {this.state=state; }
    void setAssignedDrone(Drone drone){this.assignedDrone=drone; }
    public double estimateTime(){
        if (assignedDrone==null){
            throw new IllegalStateException("No drone assigned");
        }
        if (assignedDrone.speedKmPerMin() <= 0){
            throw new IllegalStateException("Invalid drone speed");
        }
        return origin.destancetTo(destination)/assignedDrone.speedKmPerMin();
    }
}